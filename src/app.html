<template>
  <require from="./app.css"></require>
  <md-colors md-primary-color="#78909C" md-accent-color="#FF80AB"></md-colors>
  <nav-bar i18n="[title]app-title"></nav-bar>

  <div class="todo-list-placeholder valign-wrapper" show.bind="todos.length === 0">
    <h2 class="valign">
      Add a todo by clicking the "plus" in the lower right corner.
    </h2>
  </div>
  <md-collection class="todo-list" show.bind="todos.length > 0">
    <md-collection-item repeat.for="todo of todos">
      <md-checkbox md-checked.bind="todo.done"></md-checkbox>
      <span class="todo-title ${ todo.done ? 'done' : '' }">${todo.title}</span>
    </md-collection-item>
  </md-collection>

  <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
    <a click.delegate="addTodo()" md-button="floating: true; large: true;" md-tooltip="position: left; text: todo.add;" md-waves="color: light; circle: true;">
      <i class="large material-icons">add</i>
    </a>
  </div>

  <div md-modal md-modal.ref="addTodoModal">
    <div class="modal-content">
      <h4>Add a todo</h4>
      <form submit.delegate="saveTodo()">
        <div>
          <md-input md-auto-focus md-label="put some text here" md-value.bind="newTodo.title"></md-input>
        </div>
      </form>
      <div>
        <md-checkbox md-checked.bind="keepModalOpen">keep open</md-checkbox>
      </div>
    </div>
    <div class="modal-footer">
      <a click.delegate="saveTodo()" md-button="flat: true;" md-waves="color: primary;" class="modal-action primary-text">Add</a>
      <a md-button="flat: true;" md-waves="color: primary;" class="modal-action modal-close">Cancel</a>
    </div>
  </div>
</template>
